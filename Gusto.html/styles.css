:root{
  --bg1: #0f172a; /* noche */
  --accent1: #7bffcb;
  --accent2: #a78bfa;
  --panel: rgba(255,255,255,0.04);
  --glass: rgba(255,255,255,0.06);
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}

body{
  background: radial-gradient(circle at 10% 10%, rgba(255,255,255,0.03), transparent 10%),
              linear-gradient(180deg, #091024 0%, var(--bg1) 100%);
  color: #e6eef8;
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

.topbar{
  padding:18px;
  text-align:center;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-bottom:1px solid rgba(255,255,255,0.03);
}
.topbar h1{font-size:1.4rem;letter-spacing:0.6px}
.subtitle{opacity:0.9;font-size:0.95rem;margin-top:6px;color:#cfe8ff}

.container{
  display:grid;
  grid-template-columns: 1fr 520px;
  gap:18px;
  padding:20px;
  align-items:start;
}

/* Left panel: sky + characters */
.left-panel{padding:12px}
.sky{
  height:300px;
  border-radius:12px;
  background: linear-gradient(180deg,#08102a 0%, #12203a 100%);
  position:relative;
  overflow:hidden;
  box-shadow: 0 6px 30px rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.03);
}

/* moon */
.moon{
  position:absolute;
  right:16%;
  top:18%;
  width:86px;
  height:86px;
  background: radial-gradient(circle at 35% 30%, #fff9d6 0%, #fff0b0 40%, #ffd88a 60%, #f3c26b 100%);
  border-radius:50%;
  box-shadow: 0 8px 24px rgba(255,223,110,0.08), inset -8px -6px 12px rgba(0,0,0,0.06);
  transform: translateY(0);
  animation: float 6s ease-in-out infinite;
}

/* moon craters subtle */
.moon::after{
  content:"";
  position:absolute;
  left:18%;
  top:28%;
  width:22px;height:14px;border-radius:50%;
  background: rgba(0,0,0,0.06);
  transform:rotate(-18deg);
  box-shadow: 28px 14px 0 rgba(0,0,0,0.03);
}

/* floating stars using repeated radial gradients via pseudo element */
.sky::before{
  content:"";
  position:absolute;inset:0;
  background-image:
    radial-gradient(2px 2px at 10% 12%, #fff 70%, transparent 71%),
    radial-gradient(1.6px 1.6px at 30% 40%, #f8f9ff 70%, transparent 71%),
    radial-gradient(1.4px 1.4px at 60% 20%, #dfeaff 70%, transparent 71%),
    radial-gradient(1.2px 1.2px at 82% 65%, #fff 70%, transparent 71%),
    radial-gradient(1.8px 1.8px at 45% 75%, #f1fbff 70%, transparent 71%),
    radial-gradient(0.9px 0.9px at 75% 30%, #fff 70%, transparent 71%);
  opacity:0.95;
  animation: twinkle 4.5s linear infinite;
}

@keyframes twinkle {
  0%{opacity:0.7}
  50%{opacity:1}
  100%{opacity:0.7}
}
@keyframes float{
  0%{transform: translateY(0)}
  50%{transform: translateY(-8px)}
  100%{transform: translateY(0)}
}

.characters{
  display:flex;
  gap:18px;
  margin-top:14px;
  align-items:center;
  justify-content:center;
}
.character{background:var(--glass);padding:12px;border-radius:12px;text-align:center;min-width:120px}
.character figcaption{font-size:0.95rem;margin-bottom:8px;color:#fff}
.svg-dog,.svg-redpanda{width:120px;height:120px;display:block;margin:0 auto}

/* Right panel: controls */
.right-panel{
  display:flex;
  flex-direction:column;
  gap:14px;
  padding:12px;
}

.music, .coloring, .sleep-note{
  background: var(--panel);
  padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)
}
.music h2, .coloring h2, .sleep-note h2{margin-bottom:8px}

.file-row{display:flex;gap:8px;align-items:center;margin-top:8px}
.file-row input{flex:1}

/* palette & canvas */
.palette{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
.palette button{width:34px;height:34px;border-radius:8px;border:none;cursor:pointer;box-shadow: 0 2px 6px rgba(0,0,0,0.3)}
.canvas-wrap{background:linear-gradient(180deg,#061226,#0b2542);padding:8px;border-radius:8px}
#drawCanvas{display:block;border-radius:6px;width:100%;height:auto;background:#fff;touch-action: none;}

/* controls */
.canvas-controls{display:flex;gap:8px;align-items:center;margin-top:8px}
.canvas-controls button{padding:8px 12px;border-radius:8px;border:none;cursor:pointer;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#022}

.sleep-note textarea{width:100%;min-height:64px;border-radius:8px;padding:8px;border:none;resize:vertical}
.sleep-actions{margin-top:8px;text-align:right}

/* footer */
.footer{padding:12px;text-align:center;color:#9fb8d6;opacity:0.9;margin-top:auto;border-top:1px solid rgba(255,255,255,0.03)}

/* responsive */
@media (max-width:980px){
  .container{grid-template-columns: 1fr; padding:12px}
  .right-panel{order:2}
  .left-panel{order:1}
}